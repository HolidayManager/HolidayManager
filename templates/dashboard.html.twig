{% extends 'base.html.twig' %}

{% block body %}
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
      {% include 'Dashboard/navbar.html.twig' %}
    {% endif %}

      {% if not is_granted('ROLE_ADMIN') %}
          {% include 'Dashboard/dashboardnavbar.html.twig' %}
          <div class="backgroundimage"></div>
          <div class="bg">
          <div class="flexdisplay">
            {% include 'Holiday/createHoliday.html.twig' %}
            {% include 'Dashboard/testcal.html.twig' %}
          </div>
      {% endif %}

      <div class="flexdisplay">

      {% if is_granted ('ROLE_MANAGER')%}
        {% include 'Holiday/listPending.html.twig'%}
      {% endif %}

        {% if not (is_granted('ROLE_MANAGER') or is_granted('ROLE_ADMIN'))  %}
            {% if  lastRequestedHoliday is not null %}
                <div class="container">
                  <div id="latestrequest">
                    <h5 class="h5style">Latest Holiday Request</h5>
                    <div id="latestrequest_middle">
                    <div><span>From: </span>{{ lastRequestedHoliday.getStartDate()| date('d/m/Y') }}
                      <span>To: {{ lastRequestedHoliday.getEndDate()| date('d/m/Y') }}</span></div>
                    <div><span id="lateststatus">Status: {{ lastRequestedHoliday.getStatus() }}</span></div>
                    </div>
                  </div>
                </div>
            {% endif %}
        {% endif %}

        {% if not is_granted('ROLE_ADMIN') %}
        {% include 'User/infoHoliday.html.twig' %}
        {% endif %}

        </div>

      {% if is_granted('ROLE_ADMIN') %}
      <div class="backgroundimage"></div>
        <div class="bg">
        <h6><a id="createuser" class="btn-primary" href="user/create">Create new user</a></h6>
        <div id="searchBar">
          {% include 'searchBar.html.twig' %}
        </div>
            <div class="container" id="admin_userList">
        {% include 'User/userList.html.twig' %}
          </div>
        </div>
      {% endif %}

  </div>

{% endblock %}
